<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="copyright" content="(C) Copyright 2020"><meta name="DC.rights.owner" content="(C) Copyright 2020"><meta name="DC.type" content="concept"><meta name="description" content="The Smart Contract Trust Key (Trust-key for short) is the key explicitly trusted by the smart contract to sign TokenScript."><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="concept_f54_yfw_qmb"><link rel="stylesheet" type="text/css" href="css/commonltr.css"><link rel="stylesheet" type="text/css" href="css/custom.css"><title>Smart Contract Trust Key</title>
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab|Lato">
<script type="text/javascript" src="https://alphawallet.com/wp-content/themes/alphawallet/discourse/widget.js"></script>
</head><body id="concept_f54_yfw_qmb"><header role="banner"><nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
  <div class="container">
    <a class="navbar-brand" href="/">ðŸ†ƒokenScript</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
	      <li class="nav-item"><a class="nav-link" href="/TokenScript.html">Documents</a></li>
	      <li class="nav-item"><a class="nav-link" href="/guides/Intro.html">Guides</a></li>
	      <li class="nav-item"><a class="nav-link" href="/specs/Intro.html">Specs</a></li>
	      <li class="nav-item external"><a class="nav-link" href="">TokenScript community forum</a></li>
	      <li class="nav-item external"><a class="nav-link" href="/TokenScript.html">AlphaWallet (uses TokenScript)</a></li>
	      <li class="nav-item external"><a class="nav-link" href="/guides/Intro.html">Github TokenScript</a></li>
	      <li class="nav-item external"><a class="nav-link" href="/specs/Intro.html">Github TokenScript Examples</a></li>
      </ul>
    </div>
  </div>
</nav></header><div class="container" id="content"><div class="row"><nav role="toc" class="col-lg-3"><ul></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
    <h1 class="title topictitle1" id="ariaid-title1">Smart Contract Trust Key</h1>
    
    <div class="body conbody"><p class="shortdesc">The Smart Contract Trust Key (Trust-key for short) is the key explicitly trusted by
        the smart contract to sign TokenScript.</p>
        <p class="p">If a TokenScript generates a transaction to be sent to a smart contract, the smart
            contract needs to express trust towards the TokenScript's signing key, here to referred
            as "Trust Key".</p>
        <p class="p">This mechanism is important for providing trust from a highly trusted token to a less
            trusted website. Furthermore, the trust key is  also used as a package identifier, so
            two TokenScript files that are of different package should not share the trust key.</p>
      
      <section class="section"><h2 class="title sectiontitle">Express Trust from Smart Contract to a Trust Key</h2>
        
        <p class="p">There are two ways to express trust from the Smart Contract to the TokenScript Key:</p>
      <ul class="ul"><li class="li">Configure the smart contract to return the fingerprint of the key - A smart contract with key
                    management features can return the currently trusted TokenScript key through a
                    256-bit fingerprint.</li>
        <li class="li">Send an Express-of-Trust transaction</li>
        </ul>
      </section>
      <section class="section"><h2 class="title sectiontitle">Use Trust Key for package management</h2>
        
        <p class="p">When a TokenScript is cached in a user's wallet (as apposed to being distributed and used
                in a web page), the Trust Key that signs it is used as the package ID for the
                life-cycle management purpose. That is, if a user installs a new Tokenscript file or
                file-bundled, all previously cached TokenScript signed by the same key are replaced
                by it, discarded.</p>
        </section>
      <section class="section"><h2 class="title sectiontitle">Using a trust Key as a canary</h2>
        
        <p class="p">Normally, a trust key should not be an asset key. Presently we restrict it to use
                secp256k1 curve to make implementation simple, therefore, it is also a valid
                Ethereum key. This key does not need to be used on the blockchain at all, and better
                not, since the life cycle of a TokenScript key is different then the life cycle of
                an Ethereum key. One might discard a TokenScript key and unawaringly lost the
                Ethers, or spent all the Ether and discard the key only to find later that it has
                other uses.</p>
            <p class="p">However, with the use of the trust key for signing TokenScript file, you might
                intentionally keep some ether on the Ethereum address controlled by this key.
                Sometimes, in a team environment, the key might be kept in a USB stick with mutiple
                people having access to it. Should the key be leaked, an adversary would then
                proceed on robbing the money on its Ethereum address, therefore making the
                management aware that the key is leaked.</p></section>
    </div>
</article></main></div></div></body></html>